{% extends 'base.html.twig' %}

{% block body %}
    <div id="wrapper">
        <div class="row">
            <div class="col-md-3"></div>
            <div class="col-md-6">
                <h1>My Lists</h1>
                <div>
                    <a class="btn btn-md btn-primary" href="{{ path('new_list', {'userId': userId }) }}">Create list</a>
                </div>
                <br>
                <br>
                {% if lists is not empty %}
                    {% for list in lists %}
                        <div class="box">
                            <div class="box-header">
                                <div class="col-md-8">
                                    {{ list.name }}
                                    {% if list.isArchived %}
                                        (Archived)
                                    {% endif %}
                                </div>
                                <div class="col-md-4 pull-right">
                                    <a class="btn btn-sm btn-danger" href="{{ path('delete_list', {'listId': list.id }) }}">Delete</a>
                                    {% if list.isArchived == false and list.tasks is not empty %}
                                        <a class="btn btn-sm btn-default" href="{{ path('archive_list', {'listId': list.id }) }}">Archive</a>
                                    {% endif %}
                                </div>
                            </div>
                            <br>
                            <br>
                            <div class="box-body">
                                {{ include('AppBundle:Todos:todo-tasks.html.twig') }}
                            </div>
                            <br>
                            <br>
                            <div class="box-footer">
                                <a class="btn btn-md btn-success" href="{{ path('new_task', {'listId': list.id }) }}">Add task</a>
                            </div>
                            <br>
                            <br>
                        </div>
                    {% endfor %}
                {% endif %}
            </div>
            <div class="col-md-3"></div>
        </div>
    </div>
{% endblock %}

{% block stylesheets %}
{% endblock %}